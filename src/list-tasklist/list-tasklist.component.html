


<div class="tasklist_container">
    <div class="close_button" ng-click="$ctrl.closeList()"></div>
    <div class="flex-center" ng-switch="$ctrl.lists[$ctrl.activeList].edit">
        <div class="title_banner">
            <span  class="no-animate" id="listTitle" ng-bind="$ctrl.lists[$ctrl.activeList].title" ng-click="$ctrl.editListTitle($ctrl.activeList)"></span>
            <input  type="text" class="new_title no-animate" placeholder=" {{ $ctrl.lists[$ctrl.activeList].title }} " ng-focus ng-keypress="$ctrl.updateName($event,$ctrl.activeList)" id='newTitle'/>
        </div>
    </div>


    <div class="flex-col">
        <div class="taskContainer" ng-repeat="tasks in $ctrl.lists[$ctrl.activeList].taskList | orderBy: '-important'" ng-click="$ctrl.showOptions($event)" ng-switch="tasks.edit" ng-if="tasks.done === false">
            <span ng-switch-default class="task"  ng-class="{ task_done: tasks.checked,task_important: tasks.important }" ng-model="tasks.title" ng-click="$ctrl.selectTask(tasks.taskIndex)"> {{ tasks.title | toUpper }}</span>
            <input placeholder="{{ $ctrl.lists[$ctrl.activeList].taskList[tasks.taskIndex].title }}" ng-switch-when="true"   ng-model="$ctrl.lists[$ctrl.activeList].taskList[tasks.taskIndex].title" class="editTask" ng-keypress="$ctrl.updateTaskName($event,tasks.taskIndex)">
            <div class="iconContainer">
                <div ng-repeat="icons in $ctrl.taskIconList" class="icon {{ icons.class }}" ng-bind="icons.title" ng-click="icons.doThis($event,tasks.taskIndex)" ></div>
            </div>
        </div>
    </div>


    <label for="newTask">
        <input id="newTask" ng-keypress="$ctrl.addTask($event)" placeholder="Add task...">
    </label>


    <div class="list_button_container">
        <div ng-click="$ctrl.clearAll()" ng-if="$ctrl.lists[$ctrl.activeList].taskList.length > 0 " class="clear_button">Clear done</div>
        <div ui-sref="list-tile" ng-click="$ctrl.deleteList()" class="clear_button">Delete list</div>
    </div>

</div>







<!--ng-switch-default ng-click="$ctrl.lists[$ctrl.activeList].edit = true"-->
<!--ng-switch-when="true"-->
<!--ng-blur="$ctrl.updateName({which: 13},$ctrl.activeList)"-->